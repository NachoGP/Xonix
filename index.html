<html>

<head>
    <title>Xonix online game</title>
    <meta name="robots" content="index, follow"/>
    <meta name="desciption" content="Xonix - come play the nostalgic game Xonix online. Play Xonix for free, break records and share with your friends!"/>
    
    <meta property="og:title" content="Xonix online game"/>
    <meta property="og:description" content="Xonix - come play the nostalgic game Xonix online. Play Xonix for free, break records and share with your friends!"/>
    <meta property="og:image" content="http://html5xonix.appspot.com/images/icon.png"/>

    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="image_src" type="image/png" href="images/icon.png"/>
    <link rel="stylesheet" type="text/css" href="style/reset.min.css">
    <link rel="stylesheet" type="text/css" href="style/style.min.css">

    <script type="text/javascript" src="scripts/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="scripts/jquerymx-3.2.custom.min.js"></script>
    <script type="text/javascript" src="scripts/json2.js"></script>
    <script type="text/javascript" src="scripts/jStorage.js"></script>
    <script type="text/javascript" src="scripts/multifarce.min.js"></script>

    <script>
        var canvasWidth = 640,
                canvasHeight = 460,
                frame = 20,
                blockSize = 10;
        var game;

        function updateScore(value) {
            $('#score').html(value);
        }
        function updateLives(value) {
            $('#lives').html(value);
        }
        function updateConquered(value) {
            $('#conqured').html(value);
        }
        function updateTimer(value) {
            $('#timer').html(value);
        }
        function setMute(status) {
            $('#mute').removeClass("on").removeClass("off");
            $('#mute').addClass(status ? "on" : "off");
        }
        
        $(document).ready(function () {
            if (Game.supportsBrowser()) {
                var game = new Game(canvasHeight / blockSize, canvasWidth / blockSize, blockSize, frame / blockSize);
                game.addEventListener('conquer', updateConquered, this);
                game.addEventListener('lives', updateLives, this);
                game.addEventListener('score', updateScore, this);
                game.addEventListener('timer', updateTimer, this);
                
                var mute = game.get_mute();
                setMute(mute);
                
                $('#mute').click(function () {
                    var mute = game.toggleMute();
                    setMute(mute);
                });
            } else {
                $('.error_message').show();
            }
        });
    </script>
</head>

<body>
<div id="fb-root"></div>
<script>
    window.fbAsyncInit = function () {
        FB.init({
            appId:'295068687232226',
            status:true,
            cookie:true,
            xfbml:true
        });
    };
    function inviteFriends() {
        FB.ui({
            method:'apprequests',
            message:'OMG! Xonix is back!'
        });
    }
    (function (d) {
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) {
            return;
        }
        js = d.createElement('script');
        js.id = id;
        js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        ref.parentNode.insertBefore(js, ref);
    }(document));
</script>

<div id="header">
    <a href="/" class="xonix">XONIX</a>

    <div id="like">
        <div class="fb-like" data-href="http://apps.facebook.com/xonix_classic" data-send="true" data-layout="button_count" data-show-faces="false"></div>
    </div>
    <div id="plusone">
        <g:plusone size="medium" href="http://apps.facebook.com/xonix_classic"></g:plusone>
    </div>
    <div id="tweet">
        <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://apps.facebook.com/xonix_classic" data-lang="en">Tweet</a>
    </div>
</div>

<div id="actions">
    <div id="mute" class="button"></div>
    <a id="inviteFriends" class="button" href="#" onclick="inviteFriends();" title="Invite Friends"></a>
</div>

<div id="container">
    <div class="error_message">
        Sorry ): Altough this is an archaic game, we still require a modern browsers. Try Chrome, Firefox, Safari or any other browser that supports HTML5.
    </div>
</div>

<div id="footer">
    <div id="copyright">
        HTML5 version created by Yair Levinson and Roei Oved @ 2012
        <br/>
        Original DOS version created by Ilan Rav and Dani Katz @ 1984
    </div>
    <div id="links">
        <a id="facebook" class="social button" href="http://www.facebook.com/pages/Xonix-Community/396800690348945" title="Facebook" target="_blank"></a>
        <a id="twitter" class="social button" href="#" title="Twitter" target="_blank"></a>
        <a id="google" class="social button" href="https://plus.google.com/b/110784022134163021182/110784022134163021182/posts" title="Google+" target="_blank"></a>
        <a id="chromewebstore" class="social button" href="https://chrome.google.com/webstore/detail/hccmhngcnipdhgjlmmimgpphbmlckjhg" title="Chrome Web Store" target="_blank"></a>
    </div>
</div>

<!-- Google Analytics -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30218356-1']);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>
<!-- Google+ -->
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<!-- Tweeter -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</body>

</html>